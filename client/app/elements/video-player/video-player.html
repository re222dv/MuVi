<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-icons/av-icons.html">
<link rel="import" href="../../bower_components/google-youtube/google-youtube.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../elements.html">

<polymer-element name="video-player" attributes="">
  <template>
    <link rel="stylesheet" href="video-player.css">
    <service-now-playing
      id="music"
      on-song-change="{{songChange}}"
      on-status-change="{{statusChange}}"
      playing="{{playing}}">
    </service-now-playing>
    <div class="video" hidden?="{{!videoLoaded}}" fullscreen?="{{fullscreen}}">
      <div class="video-wrapper" layout horizontal center>
        <google-youtube
          videoid="{{song.video.youtubeId}}"
          id="youtube"
          controls="0"
          rel="0"
          showinfo="0"
          fluid
          on-google-youtube-state-change="{{videoState}}"
          state="{{state}}">
        </google-youtube>
      </div>
      <div class="controls" layout horizontal center>
        <paper-icon-button icon="av:skip-previous" on-click="{{previous}}"></paper-icon-button>
        <paper-icon-button icon="av:play-arrow" on-click="{{play}}" hidden?="{{playing}}"></paper-icon-button>
        <paper-icon-button icon="av:pause" on-click="{{pause}}" hidden?="{{!playing}}"></paper-icon-button>
        <paper-icon-button icon="av:skip-next" on-click="{{next}}"></paper-icon-button>
        <div class="info" layout vertical hidden?="{{!fullscreen}}">
          <h5>{{song.name}}</h5>
          <h6>{{song.artist.name}}</h6>
        </div>
        <div flex></div>
        <paper-icon-button icon="fullscreen" on-click="{{toggleFullscreen}}" hidden?="{{fullscreen}}"></paper-icon-button>
        <paper-icon-button icon="fullscreen-exit" on-click="{{toggleFullscreen}}" hidden?="{{!fullscreen}}"></paper-icon-button>
      </div>
    </div>
  </template>
  <script src="video-player.js"></script>
</polymer-element>
