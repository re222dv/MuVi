<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-ajax/core-ajax.html">
<link rel="import" href="../../bower_components/core-drawer-panel/core-drawer-panel.html">
<link rel="import" href="../../bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="../../bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="../../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../elements.html">

<polymer-element name="muvi-app" attributes="">
  <template>
    <link rel="stylesheet" href="muvi-app.css">
    <core-drawer-panel>
      <core-header-panel drawer>
        <core-toolbar>
          <div>Application</div>
        </core-toolbar>
        <h3>Playlists</h3>
        <core-ajax url="http://localhost:9099/api/playlists"
                   handleAs="json"
                   response="{{response}}"
                   auto></core-ajax>
        <template repeat="{{playlist in response}}">
          <paper-item on-click="{{playlistClick}}" data-id="{{playlist.id}}">{{playlist.name}}</paper-item>
        </template>
      </core-header-panel>
      <core-header-panel main>
        <core-toolbar>
          <core-icon-button icon="menu" core-drawer-toggle></core-icon-button>
          <div>Title</div>
        </core-toolbar>
        <playlist-songs playlistId="{{playlistId}}"></playlist-songs>
      </core-header-panel>
    </core-drawer-panel>
  </template>
  <script src="muvi-app.js"></script>
</polymer-element>
