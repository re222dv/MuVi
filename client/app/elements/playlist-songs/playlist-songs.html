<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-list/core-list.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../elements.html">

<polymer-element name="playlist-songs" attributes="playlistId">
  <template>
    <link rel="stylesheet" href="playlist-songs.css">
    <service-now-playing id="nowPlaying"></service-now-playing>
    <loading-indicator id="indicator"></loading-indicator>
    <core-list id="list" data="{{playlist.songs}}" selectionEnabled="false">
      <template>
        <paper-item data-songid="{{model.id}}" on-click="{{play}}">
          <div class="song" flex layout horizontal center>
            <span>{{model.name}}</span>
            <div class="info" layout horizontal center>
              <span>{{model.artist.name}}</span>
              <span>{{model.album.name}}</span>
            </div>
          </div>
          <context-menu>
            <paper-item data-songid="{{model.id}}" on-click="{{playSong}}">Play</paper-item>
            <paper-item data-songid="{{model.id}}" on-click="{{queueSong}}">Add to queue</paper-item>
          </context-menu>
        </paper-item>
      </template>
    </core-list>
  </template>
  <script src="playlist-songs.js"></script>
</polymer-element>
