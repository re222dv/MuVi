<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-icons/av-icons.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../elements.html">

<polymer-element name="now-playing-queue" attributes="playlistId">
  <template>
    <link rel="stylesheet" href="now-playing-queue.css">
    <service-now-playing id="nowPlaying" queue="{{queue}}" index="{{currentIndex}}"
                         on-status-change="{{statusChange}}"
                         on-song-change="{{songChange}}"></service-now-playing>
    <template repeat="{{song, index in queue}}">
      <paper-item on-click="{{play}}" data-index="{{index}}">
        <core-icon icon="av:play-circle-fill" title="Now Playing"
                   hidden?="{{index != currentIndex || !playing}}"></core-icon>
        <core-icon icon="av:pause-circle-fill" title="Paused"
                   hidden?="{{index != currentIndex || playing}}"></core-icon>
        <span>{{song.name}}</span>
        <div layout horizontal center>
          <span>{{song.artist.name}}</span>
          <span>{{song.album.name}}</span>
        </div>
      </paper-item>
    </template>
  </template>
  <script src="now-playing-queue.js"></script>
</polymer-element>
